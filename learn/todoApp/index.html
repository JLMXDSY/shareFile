<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>vuex todomvc example</title>
  <script src="./vue.js"></script>
  <script src="./vuex.js"></script>
  <link rel="stylesheet" href="./index.css">
  <style>
    * {
      list-style: none;
      margin: 0;
      padding: 0;
    }
  </style>
</head>

<body>
  <div id="app">
    <header>
      <input type="text" @keyup.enter="addTodo" autofocus placeholder="Pleace input what you need todo?">
    </header>
    <section>
      <todo-item />

    </section>
    <footer>
      <span></span>
      <ul class="todo_btnbox">
        <!-- vue模板中的v-for in 返回的是不同属性的值，而js中for in 返回的是不同属性的属性名 -->
        <li class="todo_btn" v-for="(val,key,index) in todoList">{{ key | capitalize }}</li>
      </ul>
      <div class="bfc">
        <div class="column">column 1</div>
        <div class="column">column 2</div>
      </div>
    </footer>
  </div>
</body>

<script>
  Vue.use(Vuex); //如果Vue是挂在全局对象上的，那么这句话会自动隐式执行，如果是模块化方式的，需要显示执行
  Vue.filter('pluralize', (n, w) => n === 1 ? w : (w + 's')); //全局过滤器
  // 组件传值
  // 父->子 props  子->父 子组件用emit调起一个事件 父组件可以监听子组件的任意事件
  // v-model（本质v-bind:value="searchText" v-on:input="searchText = $event"）
  // 组件的第二个参数如果是一个函数，则可以结合异步渲染组件
  // 组件是一个可复用的vue实例，对比react，data就相当于state，是组件内部的状态机，props则是对外接口
  var TodoItemOptions = {
    data: function () {
      return {
        editing: false
      }
    },
    template: `
      <li>
        wozuolesm
      </li>`,
  }
  Vue.component('TodoItem', TodoItemOptions);//全局注册组件


  const actions = {

  }
  // var store = new Vuex.Store({
  //   state:{

  //   },
  //   actions:'',
  //   mutations:'',
  //   plugins:''
  // })


  var app = new Vue({
    el: '#app',
    // store:store,
    data: {
      todoList: {
        all: todos => todos,
        active: todos => todos.filter(todo => !todo.done),
        completed: todos => todos.filter(todo => todo.done)
      }
    },
    // components:{
    //   TodoItem:TodoItemOptions,//局部注册组件
    // },
    filters: {
      capitalize: s => s.charAt(0).toUpperCase() + s.slice(1)
    }
  })

</script>

</html>